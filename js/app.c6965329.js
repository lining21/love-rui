(()=>{"use strict";var e={4028:(e,n,t)=>{t(6992),t(8674),t(9601),t(7727);var a=t(9242),i=(t(4916),t(7601),t(8309),t(1249),t(2564),t(7658),t(9554),t(1539),t(3396)),o=t(7139),r=t(4870),s=t(9880),d=t(4543),l=t(4198),u=t(1989),p=t(2236),c=t(3803),v=t(8552),w={style:{width:"100vw",height:"100vh"}},m={style:{padding:"100px 50px","font-size":"20px",color:"#fff"}},f={key:0,style:{"text-align":"left",color:"#ffeb3b",margin:"0px 0px -200px 60px"}};const h={__name:"App",setup:function(e){var n=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),t=null,a=new s.xsS,h=new s.cPb(75,window.innerWidth/window.innerHeight,.1,1e3);n?h.position.set(-3.23,10.98,30.06):h.position.set(-3.23,2.98,4.06),h.updateProjectionMatrix();var x=new s.CP7({antialias:!0});x.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(x.domElement),x.outputEncoding=s.knz,x.toneMapping=s.LY2,x.toneMappingExposure=.5,x.shadowMap.enabled=!0,x.physicallyCorrectLights=!0;var g=new d.z(h,x.domElement);g.target.set(-8,2,0),g.enableDamping=!0;var P=new u._;P.setDecoderPath("./draco/");var y=new l.E;y.setDRACOLoader(P);var b=new p.x;b.load("./textures/sky.hdr",(function(e){e.mapping=s.dSO,a.background=e,a.environment=e})),y.load("./model/scene.glb",(function(e){var n=e.scene;n.traverse((function(e){"Plane"===e.name&&(e.visible=!1),e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0)})),a.add(n)}));var M=new s.zf8(300,32),z=new c.B(M,{textureWidth:1024,textureHeight:1024,color:15658751,flowDirection:new s.FM8(1,1),scale:100});z.rotation.x=-Math.PI/2,z.position.y=-.4,a.add(z);var k=new s.Ox3(16777215,1);k.position.set(0,50,0),a.add(k);var j=(new s.dpR).load("./images/ruime9.jpg"),O=new s._12(10,14),T=new s.vBJ({map:j}),I=new s.Kj0(O,T);I.position.y=6,I.position.x=10;var C=(new s.dpR).load("./images/ruime6.jpg"),E=new s._12(5,5),_=new s.vBJ({map:C}),A=new s.Kj0(E,_);A.position.y=2,A.position.z=8,A.rotation.y=Math.PI/2;var S=(new s.dpR).load("./images/ruime2.jpg"),D=new s._12(8,8),U=new s.vBJ({map:S}),H=new s.Kj0(D,U);H.position.y=-14,H.position.x=0;var K=document.createElement("video");K.src="./images/ruime8.mp4",K.loop=!0;var Z=(new s.dpR).load("./images/ruime7.jpg"),B=new s._12(10,12),L=new s.vBJ({map:Z}),R=new s.Kj0(B,L);R.position.y=2,R.position.z=16,R.rotation.y=Math.PI+Math.PI/2;var W=(0,r.iH)("单击有惊喜呦！"),F=function(e){if(re.value===oe.length-1)if(K.paused){W.value="单击暂停播放呦！",K.play();var n=new s.fO1(K);L.map=n,L.map.needsUpdate=!0}else W.value="单击有惊喜呦！",K.pause()};window.addEventListener("click",(function(e){console.log("index.value",re.value,oe.length),t&&clearTimeout(t),t=setTimeout(F,500)}));var J=new s.cek(16777215,50);J.position.set(.1,2.4,0),J.castShadow=!0,a.add(J);var G=new s.ZAu;G.position.set(-8,2.5,-1.5);for(var q=3,Y=[],$=0;$<3;$++){var N=new s.xo$(.2,32,32),Q=new s.Wid({color:16777215,emissive:16777215,emissiveIntensity:10}),V=new s.Kj0(N,Q);Y.push(V),V.position.set(q*Math.cos(2*$*Math.PI/3),Math.cos(2*$*Math.PI/3),q*Math.sin(2*$*Math.PI/3));var X=new s.cek(16777215,50);V.add(X),G.add(V)}a.add(G);var ee={angle:0};function ne(){requestAnimationFrame(ne),x.render(a,h),g.update()}v.ZP.to(ee,{angle:2*Math.PI,duration:10,repeat:-1,ease:"linear",onUpdate:function(){G.rotation.y=ee.angle,Y.forEach((function(e,n){e.position.set(q*Math.cos(2*n*Math.PI/3),Math.cos(2*n*Math.PI/3+5*ee.angle),q*Math.sin(2*n*Math.PI/3))}))}}),ne();var te=v.ZP.timeline(),ae=v.ZP.timeline();function ie(e,n){te.to(h.position,{x:e.x,y:e.y,z:e.z,duration:1,ease:"power2.inOut"}),ae.to(g.target,{x:n.x,y:n.y,z:n.z,duration:1,ease:"power2.inOut"})}var oe=[{text:"老婆锐!（双击屏幕）",callback:function(){a.remove(R),ie(new s.Pa4(-3.23,3,4.06),new s.Pa4(-8,2,0))}},{text:"今天是2024年11月30日,我们在一起的第九个纪念日以及萄萄的生日！",callback:function(){a.add(I),ie(n?new s.Pa4(10,0,40):new s.Pa4(7,0,23),new s.Pa4(0,0,0))}},{text:"感谢在这么大的世界里遇见了你",callback:function(){a.remove(I),a.add(A),n?ie(new s.Pa4(10,3,10),new s.Pa4(5,2,8)):ie(new s.Pa4(10,3,0),new s.Pa4(5,2,0))}},{text:"纪念日快乐，让我们一起祝沐凡生日快乐！",callback:function(){a.remove(A),a.add(H),ie(new s.Pa4(7,0,23),new s.Pa4(0,0,0)),ye()}},{text:"愿我们永远健康快乐的在一起(单击有惊喜！)",callback:function(){a.remove(H),a.add(R),n?ie(new s.Pa4(-20,1.3,16.6),new s.Pa4(5,2,15)):ie(new s.Pa4(-20,1.3,6.6),new s.Pa4(5,2,0))},tip:!0}],re=(0,r.iH)(0),se=!1,de=function(e){se||(se=!0,console.log(e),e&&(re.value++,re.value>oe.length-1&&(re.value=0,be())),oe[re.value].callback(),setTimeout((function(){se=!1}),1e3))};window.addEventListener("dblclick",(function(e){t&&clearTimeout(t),t=setTimeout(de(e),500)}),!1);for(var le=new s.SPe(new s.xo$(.1,32,32),new s.Wid({color:16777215,emissive:16777215,emissiveIntensity:10}),100),ue=[],pe=[],ce=0;ce<100;ce++){var ve=100*Math.random()-50,we=100*Math.random()-50,me=100*Math.random()-50;ue.push(new s.Pa4(ve,we,me));var fe=new s.yGw;fe.setPosition(ve,we,me),le.setMatrixAt(ce,fe)}a.add(le);var he=new s.bnF;he.moveTo(25,25),he.bezierCurveTo(25,25,20,0,0,0),he.bezierCurveTo(-30,0,-30,35,-30,35),he.bezierCurveTo(-30,55,-10,77,25,95),he.bezierCurveTo(60,77,80,55,80,35),he.bezierCurveTo(80,35,80,0,50,0),he.bezierCurveTo(35,0,25,25,25,25);for(var xe=new s.Pa4(0,2,10),ge=0;ge<100;ge++){var Pe=he.getPoint(ge/100);pe.push(new s.Pa4(.1*Pe.x+xe.x,.1*Pe.y+xe.y,xe.z))}function ye(){var e={time:0};v.ZP.to(e,{time:1,duration:1,onUpdate:function(){for(var n=0;n<100;n++){var t=ue[n].x+(pe[n].x-ue[n].x)*e.time,a=ue[n].y+(pe[n].y-ue[n].y)*e.time,i=ue[n].z+(pe[n].z-ue[n].z)*e.time,o=new s.yGw;o.setPosition(t,a,i),le.setMatrixAt(n,o)}le.instanceMatrix.needsUpdate=!0}})}function be(){var e={time:0};v.ZP.to(e,{time:1,duration:1,onUpdate:function(){for(var n=0;n<100;n++){var t=pe[n].x+(ue[n].x-pe[n].x)*e.time,a=pe[n].y+(ue[n].y-pe[n].y)*e.time,i=pe[n].z+(ue[n].z-pe[n].z)*e.time,o=new s.yGw;o.setPosition(t,a,i),le.setMatrixAt(n,o)}le.instanceMatrix.needsUpdate=!0}})}return function(e,n){return(0,i.wg)(),(0,i.iD)("div",{class:"scenes",style:(0,o.j5)([{position:"fixed",left:"0",top:"0","z-index":"10","pointer-events":"none",transition:"all 1s"},{transform:"translate3d(0, ".concat(100*-(0,r.SU)(re),"vh, 0)")}])},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,r.SU)(oe),(function(e){return(0,i.wg)(),(0,i.iD)("div",w,[(0,i._)("h1",m,(0,o.zw)(e.text),1),e.tip?((0,i.wg)(),(0,i.iD)("h1",f)):(0,i.kq)("",!0)])})),256))],4)}}},x=h,g=x;(0,a.ri)(g).mount("#app")}},n={};function t(a){var i=n[a];if(void 0!==i)return i.exports;var o=n[a]={exports:{}};return e[a](o,o.exports,t),o.exports}t.m=e,(()=>{var e=[];t.O=(n,a,i,o)=>{if(!a){var r=1/0;for(u=0;u<e.length;u++){for(var[a,i,o]=e[u],s=!0,d=0;d<a.length;d++)(!1&o||r>=o)&&Object.keys(t.O).every((e=>t.O[e](a[d])))?a.splice(d--,1):(s=!1,o<r&&(r=o));if(s){e.splice(u--,1);var l=i();void 0!==l&&(n=l)}}return n}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[a,i,o]}})(),(()=>{t.n=e=>{var n=e&&e.__esModule?()=>e["default"]:()=>e;return t.d(n,{a:n}),n}})(),(()=>{t.d=(e,n)=>{for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})}})(),(()=>{t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n)})(),(()=>{var e={143:0};t.O.j=n=>0===e[n];var n=(n,a)=>{var i,o,[r,s,d]=a,l=0;if(r.some((n=>0!==e[n]))){for(i in s)t.o(s,i)&&(t.m[i]=s[i]);if(d)var u=d(t)}for(n&&n(a);l<r.length;l++)o=r[l],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(u)},a=self["webpackChunkapp"]=self["webpackChunkapp"]||[];a.forEach(n.bind(null,0)),a.push=n.bind(null,a.push.bind(a))})();var a=t.O(void 0,[998],(()=>t(4028)));a=t.O(a)})();
//# sourceMappingURL=app.c6965329.js.map